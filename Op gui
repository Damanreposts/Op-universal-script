-- Main GUI Elements
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local UICorner_MainFrame = Instance.new("UICorner")
local CloseButton = Instance.new("TextButton")
local UICorner_CloseButton = Instance.new("UICorner")
local ScrollingFrame = Instance.new("ScrollingFrame")

-- Place GUI in PlayerGui to make it visible
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Main Frame settings
MainFrame.Name = "MainFrame"
MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.Position = UDim2.new(0.3, 0, 0.3, 0)
MainFrame.Size = UDim2.new(0, 400, 0, 500)
MainFrame.Active = true
MainFrame.Draggable = true
UICorner_MainFrame.Parent = MainFrame  -- Adds rounded corners

-- Scrolling Frame settings
ScrollingFrame.Parent = MainFrame
ScrollingFrame.Size = UDim2.new(1, -20, 1, -60)
ScrollingFrame.Position = UDim2.new(0, 10, 0, 50)
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 2, 0)
ScrollingFrame.ScrollBarThickness = 8

-- Close button (red X) settings
CloseButton.Name = "CloseButton"
CloseButton.Parent = MainFrame
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.Text = "X"
UICorner_CloseButton.Parent = CloseButton

-- Close button functionality
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Utility function to create input section with label, textbox, and button
local function createInputSection(parent, labelText, placeholderText, buttonText, onClick)
    local Frame = Instance.new("Frame")
    local UICorner_Frame = Instance.new("UICorner")
    local Label = Instance.new("TextLabel")
    local TextBox = Instance.new("TextBox")
    local Button = Instance.new("TextButton")
    local UICorner_Button = Instance.new("UICorner")
    
    Frame.Parent = parent
    Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    Frame.Size = UDim2.new(0.9, 0, 0, 100)
    UICorner_Frame.Parent = Frame

    -- Label
    Label.Parent = Frame
    Label.Text = labelText
    Label.Position = UDim2.new(0, 10, 0, 10)
    Label.Size = UDim2.new(1, -20, 0, 20)
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.TextSize = 16
    Label.BackgroundTransparency = 1
    
    -- TextBox
    TextBox.Parent = Frame
    TextBox.PlaceholderText = placeholderText
    TextBox.Position = UDim2.new(0, 10, 0, 40)
    TextBox.Size = UDim2.new(1, -20, 0, 30)
    TextBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    TextBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    
    -- Button
    Button.Parent = Frame
    Button.Text = buttonText
    Button.Position = UDim2.new(0, 10, 0, 80)
    Button.Size = UDim2.new(1, -20, 0, 30)
    Button.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
    UICorner_Button.Parent = Button
    
    -- Button click functionality
    Button.MouseButton1Click:Connect(function()
        onClick(TextBox.Text)
    end)
end

-- Adding the input sections with actions for each button
createInputSection(ScrollingFrame, "Hitbox Size", "Enter hitbox size", "Expand Hitbox", function(value)
    print("Hitbox size set to:", value)
    -- Example: Modify players' hitbox size here
end)

createInputSection(ScrollingFrame, "Jump Power", "Enter jump power", "Set Jump Power", function(value)
    print("Jump power set to:", value)
    game.Players.LocalPlayer.Character.Humanoid.JumpPower = tonumber(value) or 50
end)

createInputSection(ScrollingFrame, "Walk Speed", "Enter walk speed", "Set Walk Speed", function(value)
    print("Walk speed set to:", value)
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = tonumber(value) or 16
end)

-- Function to create button-only sections for Infinite Jump, Noclip, and Show Hitboxes
local function createButtonOnlySection(parent, buttonText, onClick)
    local ButtonFrame = Instance.new("Frame")
    local Button = Instance.new("TextButton")
    local UICorner_ButtonFrame = Instance.new("UICorner")
    local UICorner_Button = Instance.new("UICorner")
    
    ButtonFrame.Parent = parent
    ButtonFrame.Size = UDim2.new(0.9, 0, 0, 50)
    ButtonFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    UICorner_ButtonFrame.Parent = ButtonFrame
    
    Button.Parent = ButtonFrame
    Button.Text = buttonText
    Button.Size = UDim2.new(1, -10, 1, -10)
    Button.Position = UDim2.new(0, 5, 0, 5)
    Button.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
    UICorner_Button.Parent = Button
    
    Button.MouseButton1Click:Connect(onClick)
end

-- Infinite Jump toggle
local infiniteJumpEnabled = false
createButtonOnlySection(ScrollingFrame, "Enable Infinite Jump", function()
    infiniteJumpEnabled = not infiniteJumpEnabled
    print("Infinite Jump:", infiniteJumpEnabled and "Enabled" or "Disabled")
    if infiniteJumpEnabled then
        game:GetService("UserInputService").JumpRequest:Connect(function()
            if infiniteJumpEnabled then
                game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
    end
end)

-- Noclip toggle
local noclipEnabled = false
createButtonOnlySection(ScrollingFrame, "Enable Noclip", function()
    noclipEnabled = not noclipEnabled
    print("Noclip:", noclipEnabled and "Enabled" or "Disabled")
    game:GetService("RunService").Stepped:Connect(function()
        if noclipEnabled then
            for _, part in pairs(game.Players.LocalPlayer.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
    end)
end)

-- Show Hitboxes toggle
local showHitboxesEnabled = false
createButtonOnlySection(ScrollingFrame, "Show Hitboxes", function()
    showHitboxesEnabled = not showHitboxesEnabled
    print("Show Hitboxes:", showHitboxesEnabled and "Enabled" or "Disabled")
    
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer and player.Character then
            for _, part in pairs(player.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    if showHitboxesEnabled then
                        -- Create a red box around the hitbox
                        local hitbox = Instance.new("BoxHandleAdornment")
                        hitbox.Size = part.Size + Vector3.new(0.1, 0.1, 0.1)
                        hitbox.Color3 = Color3.fromRGB(255, 0, 0)
                        hitbox.Transparency = 0.5
                        hitbox.Adornee = part
                        hitbox.AlwaysOnTop = true
                        hitbox.Parent = part
                    else
                        -- Remove any hitbox adornments
                        for _, adornment in pairs(part:GetChildren()) do
                            if adornment:IsA("BoxHandleAdornment") then
                                adornment:Destroy()
                            end
                        end
                    end
                end
            end
        end
    end
end)

-- Setting up the scrolling frame layout
local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = ScrollingFrame
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 10)
